<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Rat Pixel Art 64x64</title>
  <style>
    body { background: #222; color: #eee; text-align: center; font-family: sans-serif; }
    canvas { image-rendering: pixelated; border: 2px solid #444; margin-top: 20px; }
    button { margin: 10px; padding: 8px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>üêÄ G√©n√©rateur de Rat Pixel Art</h1>
  <button onclick="generateRat()">Nouveau Rat</button>
  <canvas id="ratCanvas" width="512" height="512"></canvas>

  <script>
    const canvas = document.getElementById('ratCanvas');
    const ctx = canvas.getContext('2d');
    const PIXEL = 64;
    const SCALE = canvas.width / PIXEL;

    function generateRat() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const pixels = Array.from({ length: PIXEL }, () => Array(PIXEL).fill([0, 0, 0, 0]));

      // Couleurs
      const body = [120, 120, 120, 255];
      const outline = [40, 40, 40, 255];
      const tail = [200, 120, 120, 255];
      const eye = [0, 0, 0, 255];
      const nose = [255, 100, 100, 255];
      const foot = [180, 120, 120, 255];

      // Corps (ovale horizontal)
      for (let y = -10; y <= 10; y++) {
        for (let x = -20; x <= 20; x++) {
          const dx = x / 20, dy = y / 10;
          if (dx * dx + dy * dy <= 1) {
            const px = 28 + x;
            const py = 32 + y;
            if (px >= 0 && px < PIXEL && py >= 0 && py < PIXEL) {
              pixels[py][px] = body;
            }
          }
        }
      }

      // T√™te (ovale plus petit)
      for (let y = -6; y <= 6; y++) {
        for (let x = -8; x <= 8; x++) {
          const dx = x / 8, dy = y / 6;
          if (dx * dx + dy * dy <= 1) {
            const px = 48 + x;
            const py = 28 + y;
            if (px >= 0 && px < PIXEL && py >= 0 && py < PIXEL) {
              pixels[py][px] = body;
            }
          }
        }
      }

      // Oreilles
      pixels[20][44] = tail;
      pixels[20][52] = tail;

      // Yeux
      pixels[26][46] = eye;
      pixels[26][50] = eye;

      // Nez
      pixels[34][48] = nose;

      // Pattes
      pixels[44][30] = foot;
      pixels[44][36] = foot;
      pixels[44][40] = foot;
      pixels[44][46] = foot;

      // Queue (courbe)
      for (let i = 0; i < 12; i++) {
        const px = 16 - i;
        const py = 32 + Math.floor(Math.sin(i / 2) * 4);
        if (px >= 0 && px < PIXEL && py >= 0 && py < PIXEL) {
          pixels[py][px] = tail;
        }
      }

      // Dessin final
      for (let y = 0; y < PIXEL; y++) {
        for (let x = 0; x < PIXEL; x++) {
          const p = pixels[y][x];
          if (p[3] === 0) continue;
          ctx.fillStyle = `rgba(${p[0]},${p[1]},${p[2]},${p[3]/255})`;
          ctx.fillRect(x * SCALE, y * SCALE, SCALE, SCALE);
        }
      }
    }

    generateRat();
  </script>
</body>
</html>
