<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>G√©n√©rateur de Rat</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #222; color: #eee; }
    canvas { background: #fff; margin-top: 20px; border: 1px solid #444; }
    input, button { margin: 10px; padding: 5px; }
  </style>
</head>
<body>
  <h1>üêÄ G√©n√©rateur de Rat proc√©dural</h1>
  <input type="text" id="seed" placeholder="Seed (optionnelle)">
  <button onclick="generateRat()">G√©n√©rer</button>
  <canvas id="ratCanvas" width="400" height="300"></canvas>

  <script>
    function seededRandom(seed) {
      let h = 0;
      for (let i = 0; i < seed.length; i++) {
        h = Math.imul(31, h) + seed.charCodeAt(i) | 0;
      }
      return () => {
        h = Math.imul(48271, h) % 0x7fffffff;
        return (h & 0x7fffffff) / 0x7fffffff;
      };
    }

    function generateRat() {
      const canvas = document.getElementById('ratCanvas');
      const ctx = canvas.getContext('2d');
      const seedInput = document.getElementById('seed').value || Math.random().toString();
      const rand = seededRandom(seedInput);

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Couleurs
      const bodyColor = `rgb(${rand()*100+100},${rand()*100+100},${rand()*100+100})`;
      const earColor = `rgb(${rand()*150+100},${rand()*100},${rand()*100})`;

      // Corps
      const bodyX = 150, bodyY = 150;
      const bodyW = 100 + rand()*30;
      const bodyH = 60 + rand()*20;
      ctx.fillStyle = bodyColor;
      ctx.beginPath();
      ctx.ellipse(bodyX, bodyY, bodyW, bodyH, 0, 0, Math.PI * 2);
      ctx.fill();

      // T√™te
      const headX = bodyX + bodyW * 0.8;
      const headY = bodyY - bodyH * 0.3;
      const headR = 30 + rand()*10;
      ctx.beginPath();
      ctx.arc(headX, headY, headR, 0, Math.PI * 2);
      ctx.fill();

      // Oreilles
      ctx.fillStyle = earColor;
      ctx.beginPath();
      ctx.arc(headX - 10, headY - 20, 10 + rand()*5, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(headX + 10, headY - 20, 10 + rand()*5, 0, Math.PI * 2);
      ctx.fill();

      // Queue
      ctx.strokeStyle = "#cc8888";
      ctx.lineWidth = 4;
      ctx.beginPath();
      ctx.moveTo(bodyX - bodyW, bodyY);
      ctx.quadraticCurveTo(bodyX - bodyW - 30, bodyY + 40, bodyX - bodyW - 60, bodyY + 20);
      ctx.stroke();

      // Pattes
      ctx.fillStyle = "#444";
      for (let i = 0; i < 4; i++) {
        const px = bodyX - bodyW/2 + i * 20;
        const py = bodyY + bodyH * 0.8;
        ctx.beginPath();
        ctx.arc(px, py, 5, 0, Math.PI * 2);
        ctx.fill();
      }

      // Yeux
      ctx.fillStyle = "#000";
      ctx.beginPath();
      ctx.arc(headX - 10, headY - 5, 3, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(headX + 10, headY - 5, 3, 0, Math.PI * 2);
      ctx.fill();
    }

    generateRat(); // G√©n√®re au chargement
  </script>
</body>
</html>
